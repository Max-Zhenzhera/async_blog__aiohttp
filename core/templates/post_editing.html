{% extends "basis.html" %}
{% block title %}Edit PostCreation{% endblock %}

{% block content %}
<!-- `Welcome` text -->
<div class="welcome-head">
	<h1>Create new <i>Think</i> rubric!</h1>
</div>

<div class="mx-auto form">
	<h2 class="text-center">POST EDITING</h2>

	{% if message %}
		<div class="alert alert-danger" role="alert">
			{{ message }}
		</div>
	{% endif %}

	<form method="POST" action="/posts/edit/">

		<input type="hidden" name="user_id" value="{{ session.user.id }}">
		<input type="hidden" name="post_id" value="{{ post.id }}">

		<div class="mb-3">
			<label for="title" class="form-label">Title</label>
			<input class="form-control" name="title" required value="{{ post.title }}">
		</div>
		<div class="mb-3">
			<label for="content" class="form-label">Content</label>
			<br>
			<textarea class="form-control" name="content" required>{{ post.content }}</textarea>
		</div>

		<div class="mb-3">
			<label for="content" class="form-label">Rubric</label>
			<select class="form-select" name="rubric_id">
				{% for rubric in rubrics %}
					{% if rubric.id == post.post_rubric_id %}
						<option selected value="{{ rubric.id }}">{{ rubric.title }}</option>
					{% else %}
						<option value="{{ rubric.id }}">{{ rubric.title }}</option>
					{% endif %}
				{% endfor %}
			</select>
		</div>

		<br>

		<button type="submit" class="btn btn-primary">Edit</button>
	</form>

	<br>
	<br>

	<form method="POST" action="/posts/delete/">
		<h3>DELETE POST</h3>

		<input type="hidden" name="user_id" value="{{ session.user.id }}">
		<input type="hidden" name="post_id" value="{{ post.id }}">

		<br>

		<button type="submit" class="btn btn-danger">Delete</button>
	</form>
</div>

{% endblock %}